version: "3.8"

services:
  nexo-orchestrator:
    build: .
    container_name: nexo-orchestrator
    restart: unless-stopped
    environment:
      - SUPABASE_URL=${SUPABASE_URL}
      - SUPABASE_SERVICE_ROLE_KEY=${SUPABASE_SERVICE_ROLE_KEY}
      - OLLAMA_URI=http://host.docker.internal:11434
      - LOCK_OWNER=nexo-orchestrator@alb357
      - POLL_MS=3000
      - DEFAULT_MODEL=qwen2.5:3b
    extra_hosts:
      - "host.docker.internal:host-gateway"
